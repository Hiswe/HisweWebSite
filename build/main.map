{"version":3,"sources":["webpack:///webpack/bootstrap 181479a72567d4140bc0","webpack:///./server/config.js","webpack:///external \"chalk\"","webpack:///./package.json","webpack:///./server/services/index.js","webpack:///external \"util\"","webpack:///./server/index.js","webpack:///external \"koa\"","webpack:///external \"koa-helmet\"","webpack:///external \"koa-compress\"","webpack:///external \"koa-logger\"","webpack:///external \"koa-json\"","webpack:///external \"koa-router\"","webpack:///external \"koa-body\"","webpack:///external \"koa-session\"","webpack:///external \"nuxt\"","webpack:///external \"rc\"","webpack:///./server/services/mailing.js","webpack:///external \"nodemailer\"","webpack:///./server/latest-blog-post.js","webpack:///external \"axios\"","webpack:///external \"lodash\"","webpack:///external \"xml2js\"","webpack:///external \"cheerio\"","webpack:///./server/send-contact-mail.js","webpack:///external \"validator/lib/isEmail\"","webpack:///external \"validator/lib/isEmpty\"","webpack:///./nuxt.config.js"],"names":["rc","require","pkg","config","email","transport","host","port","ignoreTLS","options","from","VERSION","version","HOST","process","env","PORT","NODE_ENV","isDev","isProd","module","exports","mailingReady","Promise","resolve","reject","mailingConnection","verify","then","console","log","chalk","green","catch","error","red","util","inspect","colors","servicesReady","all","sendMail","bind","start","app","keys","use","helmet","compress","logger","formatJson","session","key","ctx","next","err","status","statusCode","body","render","code","reason","message","stacktrace","stack","router","prefix","get","blogEntries","getLatestBlogPost","post","koaBody","state","sendContactMail","request","isJSON","type","redirect","routes","allowedMethods","nuxtConfig","dev","nuxt","builder","build","nuxtMiddleware","respond","req","res","listen","endInit","cyan","provider","usedTransport","transporter","nodemailer","createTransport","axios","_","xml2js","cheerio","parseXml","promisify","parseString","cleanSummary","summary","$","load","remove","each","index","element","$link","content","html","replaceWith","trim","atomResponse","atomJS","data","Array","isArray","map","link","title","cover","published","PREFIX","contactMail","formData","validation","valid","isEmail","value","isEmpty","hasError","Object","values","field","includes","c","notification","to","replyTo","text","NAME","middleware","head","titleTemplate","meta","charset","name","hid","author","description","homepage","rel","href","loading","color","height","css","modules","plugins","src","ssr","babel","postcss","features","customProperties"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 181479a72567d4140bc0","'use strict'\n\nconst rc = require('rc')\n\nconst pkg = require('../package.json')\n\nconst config = rc(`hiswe`, {\n  email: {\n    transport: {\n      host: `localhost`,\n      port: 1025,\n      // Maildev config for Nodemailer\n      // • https://danfarrelly.nyc/MailDev/#configure\n      ignoreTLS: true,\n    },\n    options: {\n      from: `Mr contact dev <contact@hiswe.pouic>`,\n    },\n  },\n})\n\nconfig.VERSION = pkg.version\n\nconfig.HOST = config.HOST || process.env.HOST || `127.0.0.1`\nconfig.PORT = config.PORT || process.env.PORT || 3000\n\nconfig.NODE_ENV = config.NODE_ENV || process.env.NODE_ENV || `development`\nconfig.isDev = config.NODE_ENV === `development`\nconfig.isProd = config.NODE_ENV === `production`\n\nmodule.exports = config\n\n\n\n// WEBPACK FOOTER //\n// ./server/config.js","module.exports = require(\"chalk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chalk\"\n// module id = 1\n// module chunks = 0","module.exports = {\"name\":\"hiswe-website\",\"author\":\"Yannick “Hiswe” Aïvayan <yannick.aivayan@hiswe.net>\",\"description\":\"hiswe's personnal website\",\"homepage\":\"https://hiswe.net/\",\"version\":\"4.0.0\",\"license\":\"MIT\",\"scripts\":{\"build\":\"yarn build:svg && yarn build:app\",\"build:app\":\"nuxt build && backpack build\",\"build:svg\":\"gulp build:svg\",\"dev\":\"maildev & backpack dev\",\"serve:mail\":\"maildev\",\"serve:prod\":\"yarn build && cross-env NODE_ENV=production node build/main.js\",\"start\":\"node build/main.js\",\"toc\":\"doctoc README.md --github\",\"release\":\"node ./bin/release.js\"},\"repository\":{\"type\":\"git\",\"url\":\"git://github.com/Hiswe/hiswe-website\"},\"engines\":{\"node\":\"8.11.3\"},\"dependencies\":{\"@sindresorhus/slugify\":\"^0.3.0\",\"axios\":\"^0.18.0\",\"chalk\":\"^2.4.1\",\"cheerio\":\"^1.0.0-rc.2\",\"form-serialize\":\"^0.7.2\",\"fs-extra\":\"^7.0.0\",\"koa\":\"^2.5.2\",\"koa-body\":\"^4.0.4\",\"koa-compress\":\"^3.0.0\",\"koa-helmet\":\"^4.0.0\",\"koa-json\":\"^2.0.2\",\"koa-logger\":\"^3.2.0\",\"koa-router\":\"^7.4.0\",\"koa-session\":\"^5.8.2\",\"lodash\":\"^4.17.10\",\"nodemailer\":\"^4.6.7\",\"nuxt\":\"^1.4.2\",\"nuxt-sass-resources-loader\":\"^2.0.3\",\"pug\":\"^2.0.3\",\"pug-plain-loader\":\"^1.0.0\",\"rc\":\"~1.2.8\",\"shortid\":\"^2.2.12\",\"source-map-support\":\"^0.5.6\",\"validator\":\"^10.5.0\",\"vue-axios\":\"^2.1.3\",\"xml2js\":\"^0.4.19\"},\"devDependencies\":{\"babel-plugin-transform-object-rest-spread\":\"^6.26.0\",\"backpack-core\":\"^0.7.0\",\"consolidate\":\"^0.15.1\",\"cross-env\":\"^5.2.0\",\"del\":\"^3.0.0\",\"doctoc\":\"^1.3.1\",\"gulp\":\"^4.0.0\",\"gulp-bump\":\"^3.1.1\",\"gulp-cached\":\"^1.1.1\",\"gulp-cheerio\":\"^0.6.3\",\"gulp-doctoc\":\"^0.1.4\",\"gulp-if\":\"^2.0.2\",\"gulp-image-resize\":\"~0.x.x\",\"gulp-load-plugins\":\"^1.5.0\",\"gulp-plumber\":\"^1.2.0\",\"gulp-postcss\":\"^7.0.1\",\"gulp-rename\":\"^1.4.0\",\"gulp-rev\":\"^8.1.1\",\"gulp-sass\":\"^4.0.1\",\"gulp-sourcemaps\":\"^2.6.4\",\"gulp-streamify\":\"1.0.2\",\"gulp-svg-symbols\":\"^3.2.0\",\"gulp-svgmin\":\"^1.2.4\",\"gulp-uglify\":\"~3.0.1\",\"image-size\":\"^0.6.3\",\"inquirer\":\"^6.0.0\",\"maildev\":\"^1.0.0-rc3\",\"marked\":\"^0.4.0\",\"node-sass\":\"^4.9.2\",\"sass-loader\":\"^7.1.0\",\"shelljs\":\"^0.8.2\",\"svgo\":\"^1.0.5\",\"yargs\":\"^12.0.1\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 2\n// module chunks = 0","import util from 'util'\nimport chalk from 'chalk'\n\nimport config from '../config'\nimport mailingConnection from './mailing'\n\n//----- MAILING CONNECTION\n\nconst mailingReady = new Promise((resolve, reject) => {\n  mailingConnection\n    .verify()\n    .then(() => {\n      console.log(chalk.green(`[MAILING]`), `transport creation – SUCCESS`)\n      resolve()\n    })\n    .catch(error => {\n      console.log(chalk.red(`[MAILING]`, `transport creation – ERROR`))\n      console.log(util.inspect(error, { colors: true }))\n      console.log(`original config`)\n      console.log(config.email)\n      reject(`[MAILING] connection failed`)\n    })\n})\n\n//----- CHECKS\n\nexport const servicesReady = Promise.all([mailingReady])\n\nexport const sendMail = mailingConnection.sendMail.bind(mailingConnection)\n\n\n\n// WEBPACK FOOTER //\n// ./server/services/index.js","module.exports = require(\"util\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"util\"\n// module id = 4\n// module chunks = 0","import chalk from 'chalk'\nimport Koa from 'koa'\nimport helmet from 'koa-helmet'\nimport compress from 'koa-compress'\nimport logger from 'koa-logger'\nimport formatJson from 'koa-json'\nimport Router from 'koa-router'\nimport koaBody from 'koa-body'\nimport session from 'koa-session'\nimport { Nuxt, Builder } from 'nuxt'\n\nimport config from './config'\nimport { servicesReady } from './services'\nimport getLatestBlogPost from './latest-blog-post'\nimport sendContactMail from './send-contact-mail'\n\nasync function start() {\n  //////\n  // SERVER CONFIG\n  //////\n\n  const app = new Koa()\n\n  // for signed cookies\n  app.keys = [\n    `e05fa6f6e4c078ad997ec324e6d69f59829b2e2237c5e1d9e3610fea291793f4`,\n    `64241b9838c5d0d5f94f7e83c71d83af4674f8c84e406a138263a8803a3b1e6f`,\n  ]\n\n  app.use(helmet())\n  app.use(compress())\n  app.use(logger())\n  app.use(formatJson())\n  app.use(\n    session(\n      {\n        key: 'hiswe-website',\n      },\n      app\n    )\n  )\n\n  //----- ERROR HANDLING\n\n  app.use(async (ctx, next) => {\n    try {\n      await next()\n    } catch (err) {\n      console.log(util.inspect(err, { colors: true }))\n      ctx.status = err.statusCode || err.status || 500\n      ctx.body = ctx.render(`error`, {\n        code: ctx.status,\n        reason: err.message,\n        stacktrace: err.stacktrace || err.stack || false,\n      })\n    }\n  })\n\n  //////\n  // API ROUTING\n  //////\n\n  //----- API\n\n  const router = new Router({ prefix: `/api` })\n\n  router.get(`/latest-blog-post`, async ctx => {\n    const blogEntries = await getLatestBlogPost()\n    ctx.body = blogEntries\n  })\n\n  router.post(`/contact`, koaBody(), async ctx => {\n    const state = await sendContactMail(ctx.request.body)\n    const isJSON = ctx.request.type === `application/json`\n    if (isJSON) return (ctx.body = state)\n    ctx.session = state\n    ctx.redirect(`/`)\n  })\n\n  //----- MOUNT ROUTER TO APPLICATION\n\n  app.use(router.routes())\n  app.use(router.allowedMethods())\n\n  //////\n  // NUXT\n  //////\n\n  // Import and Set Nuxt.js options\n  const nuxtConfig = require('../nuxt.config.js')\n  nuxtConfig.dev = config.isDev\n\n  // Instantiate nuxt.js\n  const nuxt = new Nuxt(nuxtConfig)\n\n  // Build in development\n  if (config.isDev) {\n    const builder = new Builder(nuxt)\n    await builder.build()\n  }\n\n  // Nuxt middleware\n  // • take a different take from the one in examples\n  //   to fix the error “Error: Can’t set headers after they are sent”\n  // • see this ticket:\n  //   https://github.com/nuxt/nuxt.js/issues/1206#issuecomment-319271260\n  //   https://github.com/nuxt-community/koa-template/pull/39/commits/f478d18dcd613490da8271193bb2f16199360f8c\n  app.use(function nuxtMiddleware(ctx) {\n    ctx.status = 200\n    ctx.respond = false // Mark request as handled for Koa\n    // useful for nuxtServerInit\n    ctx.req.session = ctx.session\n    // make session act like flash messages\n    ctx.session = {}\n    nuxt.render(ctx.req, ctx.res)\n  })\n\n  //////\n  // LAUNCHING\n  //////\n\n  try {\n    await servicesReady\n    app.listen(config.PORT, config.HOST, function endInit() {\n      console.log(\n        `APP Server is listening on`,\n        chalk.cyan(`${config.HOST}:${config.PORT}`),\n        `on mode`,\n        chalk.cyan(config.NODE_ENV)\n      )\n    })\n  } catch (error) {\n    console.log(chalk.red(`[APP] not launched – needed services errored`))\n    console.log(error)\n  }\n}\n\nstart()\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"koa-helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-helmet\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"koa-compress\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-compress\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"koa-logger\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-logger\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"koa-json\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-json\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"koa-body\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-body\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"koa-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-session\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"rc\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rc\"\n// module id = 15\n// module chunks = 0","import nodemailer from 'nodemailer'\n\nimport config from '../config'\n\nconst { transport, provider } = config.email\nconst usedTransport = provider ? provider : transport\nconst transporter = nodemailer.createTransport(usedTransport)\n\nexport default transporter\n\n\n\n// WEBPACK FOOTER //\n// ./server/services/mailing.js","module.exports = require(\"nodemailer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nodemailer\"\n// module id = 17\n// module chunks = 0","'use strict'\n\nconst util = require('util')\nconst axios = require('axios')\nconst _ = require('lodash')\nconst xml2js = require('xml2js')\nconst cheerio = require('cheerio')\n\nconst parseXml = util.promisify(xml2js.parseString)\n\nfunction cleanSummary(summary) {\n  const $ = cheerio.load(summary)\n  $(`h2`).remove()\n  $(`a`).each((index, element) => {\n    const $link = $(element)\n    const content = $link.html()\n    $link.replaceWith(`<span>${content}</span>`)\n  })\n  return $(`body`)\n    .html()\n    .trim()\n}\n\nmodule.exports = async function getLatestBlogPost() {\n  const atomResponse = await axios.get(`https://hiswe.github.io/atom.xml`)\n  if (!atomResponse.status === 200) return (ctx.body = [{}])\n\n  const atomJS = await parseXml(atomResponse.data)\n  const blogEntries = _.get(atomJS, `feed.entry`)\n  if (!Array.isArray(blogEntries)) return (ctx.body = [{}])\n\n  return blogEntries.map(post => {\n    const link = _.get(post, `link[0].$.href`)\n    const summary = _.get(post, `summary[0]._`)\n    return {\n      title: _.get(post, `title[0]`),\n      link: link,\n      cover: `${link}cover.png`,\n      published: _.get(post, `published[0]`),\n      summary: cleanSummary(summary),\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/latest-blog-post.js","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"xml2js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"xml2js\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"cheerio\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cheerio\"\n// module id = 22\n// module chunks = 0","import c from 'chalk'\nimport isEmail from 'validator/lib/isEmail'\nimport isEmpty from 'validator/lib/isEmpty'\n\nimport config from './config'\nimport { sendMail } from './services'\n\nconst PREFIX = `[MAIL]`\n\nasync function contactMail(formData) {\n  const { email, message } = formData\n\n  const validation = {\n    email: {\n      valid: isEmail(email),\n      value: email,\n    },\n    message: {\n      valid: !isEmpty(message),\n      value: message,\n    },\n  }\n  const hasError = Object.values(validation)\n    .map(field => field.valid)\n    .includes(false)\n  if (hasError) {\n    console.log(c.red(PREFIX), `validation error`)\n    return {\n      validation,\n      notification: {\n        content: `you need to fill the form`,\n        type: `error`,\n      },\n    }\n  }\n  try {\n    await sendMail({\n      from: config.email.options.from,\n      to: config.email.options.from,\n      replyTo: email,\n      text: message,\n    })\n  } catch (error) {\n    return {\n      validation,\n      notification: {\n        content: `an error as occurred while sending the mail. Please try again`,\n        type: `error`,\n      },\n    }\n  }\n  return {\n    validation,\n    notification: { content: `message send`, type: `info` },\n  }\n}\n\nexport default contactMail\n\n\n\n// WEBPACK FOOTER //\n// ./server/send-contact-mail.js","module.exports = require(\"validator/lib/isEmail\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"validator/lib/isEmail\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"validator/lib/isEmpty\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"validator/lib/isEmpty\"\n// module id = 25\n// module chunks = 0","const pkg = require(`./package.json`)\n\nconst NAME = `hiswe website`\n\nmodule.exports = {\n  router: {\n    middleware: `reset-form`,\n  },\n  head: {\n    titleTemplate: 'Hiswe – %s',\n    meta: [\n      { charset: `utf-8` },\n      { name: `viewport`, content: `width=device-width, initial-scale=1` },\n      { 'http-equiv': `X-UA-Compatible`, content: `IE=edge` },\n      { hid: `author`, name: `author`, content: pkg.author },\n      { hid: `description`, name: `description`, content: pkg.description },\n      // open graph\n      { hid: `og:title`, name: `og:title`, content: NAME },\n      { hid: `og:type`, name: `og:type`, content: `website` },\n      {\n        hid: `og:description`,\n        name: `og:description`,\n        content: pkg.description,\n      },\n      { hid: `og:url`, name: `og:url`, content: pkg.homepage },\n      // twitter\n      { hid: `twitter:card`, name: `twitter:card`, content: `summary` },\n      { hid: `twitter:site`, name: `twitter:site`, content: `@hiswehalya` },\n      {\n        hid: `twitter:creator`,\n        name: `twitter:creator`,\n        content: `@hiswehalya`,\n      },\n    ],\n    link: [{ rel: `icon`, type: `image/png`, href: `/favicon.png` }],\n  },\n  loading: {\n    color: `hsl(332, 100%, 50%)`,\n    height: `5px`,\n  },\n  css: [\n    `@/nuxt-assets/css/global.scss`,\n    `@/nuxt-assets/css/page-transitions.scss`,\n  ],\n  // inject scss files in every module\n  // • https://github.com/anteriovieira/nuxt-sass-resources-loader\n  // • https://hackernoon.com/how-i-use-scss-variables-mixins-functions-globally-in-nuxt-js-projects-while-compiling-css-utilit-58bb6ff30438\n  modules: [\n    [\n      `nuxt-sass-resources-loader`,\n      [`@/nuxt-assets/css/scss-vars.scss`, `@/nuxt-assets/css/scss-mixin.scss`],\n    ],\n  ],\n  plugins: [\n    `@/nuxt-plugins/global-components.js`,\n    { src: `@/nuxt-plugins/browser.js`, ssr: false },\n  ],\n  build: {\n    babel: {\n      plugins: [`transform-object-rest-spread`],\n    },\n    postcss: {\n      plugins: {\n        'postcss-cssnext': {\n          features: {\n            // processing custom properties make them fail\n            customProperties: false,\n          },\n        },\n      },\n    },\n  },\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js"],"sourceRoot":""}