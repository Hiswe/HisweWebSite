@import 'nib/positions'
@import 'nib/reset'
@import './css-config'
@import './css-mixins'
@import './projects-transitions'

.hw-projects
  clearfix()

.hw-projects-item
  width third()
  height px2em($panel-height)
  float left

.hw-projects-cover
  height 100%
  position relative
  top 0
  iso-left()
  background white
  projects-cover-out()
  box-shadow inset 0 0 0 0 $hover-color
  text-align center
  cursor pointer
  opacity 1

  span
    display inline-block
    percentCenter()
    font-size 2em

  .hw-projects-item:nth-child(3n + 2) &
    iso-right()
    background $grey

  &:hover
    box-shadow inset 0 0 0 px2em($hover-width) $hover-color

  .hw-projects-item:nth-child(3n + 2).{activeClass} &,
  .{activeClass} &
    projects-cover-in()
    iso-reset()
    height 150%
    top -25%
    opacity 0

.hw-projects-content-container
  visibility hidden
  fixed top left
  right 100%; bottom 100%
  right 0; bottom 0
  // overflow hidden
  perspective 1000px
  perspective-origin center center
  projects-container-out()

  .{activeClass} &
    projects-container-in()
    visibility visible
    right 0; bottom 0
    z-index 9

.hw-projects-content
  absolute top left
  bottom 0; right 0
  overflow auto
  background white
  border px2em($main-border) solid $light-grey
  transform scale3d(.1, .1, .1) rotateY(180deg)
  backface-visibility visible
  transform-style preserve-3d
  opacity .5
  projects-content-out()

  .{activeClass} &
    projects-content-in()
    opacity 1
    transform scale3d(1, 1, 1) rotateY(0deg)
