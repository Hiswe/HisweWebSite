@import 'nib/positions'
@import 'nib/reset'
@import './css-config'
@import './css-mixins'
@import './projects-transitions'

.hw-projects-content
  > .hw-projects-center
    width unit($project-width, 'px')
    margin 0 auto

    a[href^='http://']::after
      font-size .75em
      padding-left .5em
      font-family FontAwesome
      content '\f08e'

  h1, h2, h3, h4, h5, h6, ol, p
    crisp-font-smoothing()
    font-weight 300

  h1
    color $pink
    text-align center
    font-dark()
    font-size 4em
    padding .5em 0 .25em
    margin-bottom 0

  // Title baseline
  h2
    text-align center
    color $dark-grey
    font-size 1.5em
    padding-bottom 1em
    margin-top 0

  // Gallery title
  h3
    font-size 4em
    text-align center
    font-dark()
    color $dark-grey
    margin-bottom .5em

  // Paragraph title
  h4
    font-size 1.5em
    text-transform uppercase
    color darken($grey, 10%)
    padding .5em 0

  p
    font-size px2em(22)
    letter-spacing 0.16px
    line-height 1.5em
    padding 0 0 1em

  a
    color $black
    background-image linear-gradient(to bottom,#fff 50%,#666665 50%)
    background-repeat repeat-x
    background-size 2px 2px
    background-position 0 24px

    &:hover
      color $black

.hw-projects-aside-container,
.hw-projects-gallery
  width unit($desktop-width, 'px')
  margin 0 auto

// Summary
.hw-projects-aside-container
  position relative

  .hw-projects-aside
    absolute top left
    width unit(($desktop-width - $project-width) / 2 - $h-fs, 'px')
    border 1px solid $grey

  h6, ol, li, p
    margin 0
    text-align center
    font-weight 300

  h6, ol, p
    padding .5em 0

  ol, li
    padding-top 0
    list-style none

  h6:not(:first-child)
    border-top 1px solid $grey

  h6, li
    text-transform uppercase

  h6
    color $dark-grey
    font-size px2em(12)

  li, p
    font-weight 300
    font-size px2em(14)
    color $black
    font-weight bold
    letter-spacing 0

  a
    color $pink
    font-weight 300
    font-size 1em

    &:hover
      text-decoration underline

// Gallery
.hw-projects-gallery-container
  background $grey
  border solid $grey
  border-width 1px 0
  visibility hidden
  margin 4em 0
  height px2em(carrouselHeight)
  projects-gallery-out()

  h3 + &
    margin-top 0

  .{activeClass} &
    visibility visible
    projects-gallery-in()

.hw-projects-gallery
  background $black
  height 100%

  ul
    width 100%
    height 100%
    overflow auto
    white-space nowrap
    // remove white-space between images
    // http://yuilibrary.com/yui/docs/cssgrids/
    // http://davidwalsh.name/remove-whitespace-inline-block
    letter-spacing -0.31em
    text-rendering optimizespeed

  li
    height 100%
    display inline-block
    position relative
    max-width 90%
    overflow hidden
    // image-center()
    v-align()

    figure
      padding 0; margin 0

    figcaption
      absolute bottom left
      right 0
      background $black
      letter-spacing 0
      text-align center
      padding .5em 0
      color white

    .hw-projects-image-vector img
      max-width 100%
      max-height 100%

    &::after
      content ' '
      absolute top left
      right 0; bottom 0

.{carrouselClass} .hw-projects-gallery
  overflow hidden
  perspective 1000px
  transform-origin center center
  transform-style preserve-3d

  ul
    transform translate3d(0px,0px,0px)
    backface-visibility hidden
    transform-style preserve-3d
    overflow visible
    // so jQuery will know it's the offset parent
    position relative
    transition transform .75s ease 0s

  li
    cursor pointer
    border-left 1px solid $grey

    &:first-child
      border-left 0

    &:hover::after
      background rgba($pink, .25)

  figure.hw-projects-lazyload-loading::after
      content ''
      width 30px; height 30px
      absolute top 50% left 50%
      transform translate3d(-50%, -50%, 0)
      background transparent
      animation spinner 4s linear
      animation-iteration-count infinite
      box-shadow inset 0 0 0 2px black
      opacity 0.5

  img
    opacity .15
    transition opacity .75s ease .75s

  figcaption
    transform translate3d(0,100%,0)
    transition transform .75s ease 1.5s

  .{carrouselClassSelected}
    cursor inherit

    img
      opacity 1

    figcaption
      transform translate3d(0,0,0)

    &::after,
    &:hover::after
      background rgba($pink, 0)
